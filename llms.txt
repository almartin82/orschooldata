# orschooldata

**[Documentation](https://almartin82.github.io/orschooldata/)** \|
[GitHub](https://github.com/almartin82/orschooldata)

Fetch and analyze Oregon school enrollment data from
[ODE](https://www.oregon.gov/ode/reports-and-data/students/Pages/Student-Enrollment-Reports.aspx)
in R or Python. **15 years of data** (2010-2024) for every school,
district, and the state.

Part of the [state schooldata
project](https://github.com/almartin82?tab=repositories&q=schooldata),
inspired by
[njschooldata](https://github.com/almartin82/njschooldata)—the original
R package for accessing state education data.

## What can you find with orschooldata?

Oregon enrolls **590,000 students** across 197 school districts. There
are stories hiding in these numbers. Here are fifteen narratives waiting
to be explored:

------------------------------------------------------------------------

### 1. Oregon’s enrollment peaked in 2019, then COVID hit

The state added students for a decade, then lost 26,000 in a single year
during the pandemic.

``` r
library(orschooldata)
library(dplyr)

enr <- fetch_enr_multi(2010:2024, use_cache = TRUE)

state_totals <- enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  select(end_year, n_students) |>
  mutate(change = n_students - lag(n_students),
         pct_change = round(change / lag(n_students) * 100, 2))

state_totals
```

![Oregon statewide enrollment
trends](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/statewide-chart-1.png)

Oregon statewide enrollment trends

------------------------------------------------------------------------

### 2. Portland Public Schools is in steady decline

Oregon’s largest district has lost thousands of students over the past
decade, even as suburban districts have held steady.

``` r
portland <- enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL",
         district_id == "1920") |>
  select(end_year, district_name, n_students) |>
  mutate(pct_of_peak = round(n_students / max(n_students) * 100, 1))

portland
```

![Top Oregon
districts](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/top-districts-chart-1.png)

Top Oregon districts

------------------------------------------------------------------------

### 3. The COVID kindergarten collapse hasn’t recovered

Kindergarten enrollment dropped 12% during the pandemic and remains
below pre-COVID levels, signaling smaller cohorts for years to come.

``` r
covid_grades <- enr |>
  filter(is_state, subgroup == "total_enrollment",
         grade_level %in% c("K", "01", "06", "09"),
         end_year %in% 2019:2024) |>
  select(end_year, grade_level, n_students) |>
  tidyr::pivot_wider(names_from = grade_level, values_from = n_students)

covid_grades
```

![Oregon kindergarten
enrollment](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/demographics-chart-1.png)

Oregon kindergarten enrollment

------------------------------------------------------------------------

### 4. High school grades are larger than elementary

Grade 9 enrollment exceeds kindergarten by several thousand students,
reflecting the pandemic’s lasting impact on younger cohorts.

``` r
enr_2024 <- fetch_enr(2024, use_cache = TRUE)

grade_comparison <- enr_2024 |>
  filter(is_state, subgroup == "total_enrollment",
         grade_level %in% c("K", "01", "02", "03", "09", "10", "11", "12")) |>
  select(grade_level, n_students) |>
  arrange(grade_level)

grade_comparison
```

------------------------------------------------------------------------

### 5. 78 districts have fewer than 500 students

Rural Oregon is vast, and many small districts serve tiny populations
spread across large geographic areas.

``` r
district_sizes <- enr_2024 |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  mutate(size_bucket = case_when(
    n_students < 500 ~ "Small (<500)",
    n_students < 2000 ~ "Medium (500-2K)",
    n_students < 10000 ~ "Large (2K-10K)",
    TRUE ~ "Very Large (10K+)"
  )) |>
  count(size_bucket)

district_sizes
```

![Oregon districts by
size](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/regional-chart-1.png)

Oregon districts by size

------------------------------------------------------------------------

### 6. Multnomah County has more students than the bottom 20 counties combined

Oregon’s urban-rural divide is stark. The Portland metro area dominates
enrollment.

``` r
county_enrollment <- enr_2024 |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  group_by(county) |>
  summarize(
    districts = n(),
    students = sum(n_students, na.rm = TRUE)
  ) |>
  arrange(desc(students))

head(county_enrollment, 10)
```

![Oregon’s top counties by
enrollment](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/growth-chart-1.png)

Oregon’s top counties by enrollment

------------------------------------------------------------------------

### 7. Lane County is Oregon’s university town

Eugene and Springfield anchor Oregon’s second-largest population center,
with over 30,000 students between them.

``` r
lane_districts <- enr_2024 |>
  filter(county == "Lane", is_district,
         subgroup == "total_enrollment", grade_level == "TOTAL") |>
  arrange(desc(n_students)) |>
  select(district_name, n_students) |>
  head(5)

lane_districts
```

------------------------------------------------------------------------

### 8. Salem-Keizer is Oregon’s largest district

With over 40,000 students, Salem-Keizer School District has surpassed
Portland to become the state’s enrollment leader.

``` r
largest <- enr_2024 |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  arrange(desc(n_students)) |>
  select(district_name, n_students) |>
  head(10)

largest
```

------------------------------------------------------------------------

### 9. Over 2,000 students are “ungraded”

Oregon tracks students not assigned to traditional grade levels, often
in alternative programs or special education settings.

``` r
ungraded <- enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "UG") |>
  select(end_year, n_students)

ungraded
```

------------------------------------------------------------------------

### 10. 15 years of data reveal long-term shifts

Oregon’s enrollment data spans from 2010 to 2024, capturing the Great
Recession recovery, pre-pandemic growth, COVID disruption, and early
recovery.

``` r
decade_summary <- enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "TOTAL",
         end_year %in% c(2010, 2015, 2019, 2021, 2024)) |>
  select(end_year, n_students) |>
  mutate(label = case_when(
    end_year == 2010 ~ "Post-recession",
    end_year == 2015 ~ "Mid-decade",
    end_year == 2019 ~ "Pre-COVID peak",
    end_year == 2021 ~ "COVID low",
    end_year == 2024 ~ "Current"
  ))

decade_summary
```

------------------------------------------------------------------------

### 11. Eastern Oregon is losing students fastest

Malheur, Harney, and other eastern counties face declining enrollment as
young families leave for urban jobs.

``` r
eastern_counties <- c("Malheur", "Harney", "Baker", "Grant", "Wheeler", "Gilliam", "Sherman")

eastern_trend <- enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL",
         county %in% eastern_counties) |>
  group_by(end_year, county) |>
  summarize(students = sum(n_students, na.rm = TRUE), .groups = "drop")

# Compare first and last available years
eastern_summary <- eastern_trend |>
  group_by(county) |>
  summarize(
    first_year = min(end_year),
    last_year = max(end_year),
    first_enr = students[end_year == min(end_year)],
    last_enr = students[end_year == max(end_year)],
    pct_change = round((last_enr / first_enr - 1) * 100, 1),
    .groups = "drop"
  )

eastern_summary
```

![Eastern Oregon enrollment
decline](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/eastern-chart-1.png)

Eastern Oregon enrollment decline

------------------------------------------------------------------------

### 12. Beaverton vs Hillsboro: Suburban rivals

Washington County’s two largest districts show different trajectories
over the past decade.

``` r
wash_county <- enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL",
         district_name %in% c("Beaverton SD 48J", "Hillsboro SD 1J")) |>
  select(end_year, district_name, n_students)

wash_county |>
  filter(end_year %in% c(2010, 2015, 2020, 2024))
```

![Washington County suburban
districts](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/suburban-chart-1.png)

Washington County suburban districts

------------------------------------------------------------------------

### 13. Pre-K enrollment is booming

Oregon’s pre-kindergarten programs have grown dramatically, reflecting
expanded early childhood education investment.

``` r
prek_trend <- enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "PK") |>
  select(end_year, n_students) |>
  mutate(growth_from_2010 = round((n_students / first(n_students) - 1) * 100, 1))

prek_trend
```

![Pre-K enrollment
growth](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/prek-chart-1.png)

Pre-K enrollment growth

------------------------------------------------------------------------

### 14. Central Oregon is the growth story

Deschutes County (Bend) has bucked statewide trends with consistent
enrollment growth as families migrate from California and Portland.

``` r
central_oregon <- c("Deschutes", "Jefferson", "Crook")

central_trend <- enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL",
         county %in% central_oregon) |>
  group_by(end_year, county) |>
  summarize(students = sum(n_students, na.rm = TRUE), .groups = "drop")

# Compare first and last available years
central_summary <- central_trend |>
  group_by(county) |>
  summarize(
    first_year = min(end_year),
    last_year = max(end_year),
    first_enr = students[end_year == min(end_year)],
    last_enr = students[end_year == max(end_year)],
    pct_change = round((last_enr / first_enr - 1) * 100, 1),
    .groups = "drop"
  )

central_summary
```

![Central Oregon
growth](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/central-chart-1.png)

Central Oregon growth

------------------------------------------------------------------------

### 15. Grade-by-grade snapshot reveals demographic wave

Each grade level tells a story: today’s kindergartners are tomorrow’s
high schoolers.

``` r
grade_snapshot <- enr |>
  filter(is_state, subgroup == "total_enrollment",
         grade_level %in% c("K", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"),
         end_year == 2024) |>
  select(grade_level, n_students) |>
  arrange(grade_level)

grade_snapshot
```

![Grade-by-grade
enrollment](https://almartin82.github.io/orschooldata/articles/enrollment_hooks_files/figure-html/grade-wave-chart-1.png)

Grade-by-grade enrollment

------------------------------------------------------------------------

## Installation

``` r
# install.packages("devtools")
devtools::install_github("almartin82/orschooldata")
```

## Quick Start

### R

``` r
library(orschooldata)
library(dplyr)

# Get 2024 enrollment data (2023-24 school year)
enr <- fetch_enr(2024)

# Statewide total
enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  pull(n_students)

# Top 10 districts
enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  arrange(desc(n_students)) |>
  select(district_name, n_students) |>
  head(10)

# Get multiple years
enr_multi <- fetch_enr_multi(2020:2024)
```

### Python

``` python
import pyorschooldata as or_

# Get 2024 enrollment data (2023-24 school year)
enr = or_.fetch_enr(2024)

# Statewide total
state_total = enr[
    (enr['is_state']) &
    (enr['subgroup'] == 'total_enrollment') &
    (enr['grade_level'] == 'TOTAL')
]['n_students'].values[0]
print(state_total)

# Top 10 districts
top_districts = (
    enr[
        (enr['is_district']) &
        (enr['subgroup'] == 'total_enrollment') &
        (enr['grade_level'] == 'TOTAL')
    ]
    .sort_values('n_students', ascending=False)
    [['district_name', 'n_students']]
    .head(10)
)

# Get multiple years
enr_multi = or_.fetch_enr_multi([2020, 2021, 2022, 2023, 2024])
```

## Data Availability

| Era   | Years     | Format | Notes              |
|-------|-----------|--------|--------------------|
| Era 1 | 2010-2014 | .xls   | Older Excel format |
| Era 2 | 2015-2024 | .xlsx  | Modern format      |

**15 years** across ~197 districts and ~1,300 schools.

### What’s Included

- **Levels:** State, district, and campus
- **Grade levels:** Pre-K, K, 1-12, Ungraded (UG)

### What’s NOT Available

The Oregon Fall Membership Reports focus on enrollment counts only: -
Race/ethnicity breakdowns - Special populations (LEP, Special Ed,
Economically Disadvantaged) - Gender breakdowns

For demographics, consult the Oregon Report Card system.

## Data Notes

### Data Source

Oregon Department of Education [Fall Membership
Reports](https://www.oregon.gov/ode/reports-and-data/students/Pages/Fall-Membership-Report.aspx)

### Census Day

Fall Membership data is collected on the first school day in October
(Census Day). This snapshot represents enrollment at a single point in
time.

### Suppression Rules

- Values of `*` or `<5` in the source data indicate suppressed small
  counts (typically fewer than 5 students)
- These are converted to `NA` in the processed data
- Suppression protects student privacy in small schools/programs

### Known Data Quality Issues

- Some small schools/districts may have incomplete reporting
- “Ungraded” (UG) students are tracked separately and may not sum to
  TOTAL in all cases
- District totals are calculated by summing campus data; state totals by
  summing district data

## Data Format

| Column                         | Description                              |
|--------------------------------|------------------------------------------|
| `end_year`                     | School year end (e.g., 2024 for 2023-24) |
| `district_id`                  | 4-digit district identifier              |
| `campus_id`                    | School identifier                        |
| `district_name`, `campus_name` | Names                                    |
| `type`                         | “State”, “District”, or “Campus”         |
| `county`                       | County name                              |
| `grade_level`                  | “TOTAL”, “PK”, “K”, “01”…“12”, “UG”      |
| `subgroup`                     | “total_enrollment”                       |
| `n_students`                   | Enrollment count                         |
| `pct`                          | Percentage of total                      |

## Caching

``` r
# View cached files
cache_status()

# Clear cache
clear_cache()

# Force fresh download
enr <- fetch_enr(2024, use_cache = FALSE)
```

## Part of the State Schooldata Project

A simple, consistent interface for accessing state-published school data
in Python and R.

**All 50 state packages:**
[github.com/almartin82](https://github.com/almartin82?tab=repositories&q=schooldata)

## Author

Andy Martin (<almartin@gmail.com>) GitHub:
[github.com/almartin82](https://github.com/almartin82)

## License

MIT

# Package index

## Fetch Data

Functions for downloading enrollment data

- [`fetch_enr()`](https://almartin82.github.io/orschooldata/reference/fetch_enr.md)
  : Fetch Oregon enrollment data
- [`fetch_enr_multi()`](https://almartin82.github.io/orschooldata/reference/fetch_enr_multi.md)
  : Fetch enrollment data for multiple years
- [`get_available_years()`](https://almartin82.github.io/orschooldata/reference/get_available_years.md)
  : Get available years for Oregon enrollment data

## Transform Data

Functions for transforming and analyzing data

- [`tidy_enr()`](https://almartin82.github.io/orschooldata/reference/tidy_enr.md)
  : Tidy enrollment data
- [`id_enr_aggs()`](https://almartin82.github.io/orschooldata/reference/id_enr_aggs.md)
  : Identify enrollment aggregation levels
- [`enr_grade_aggs()`](https://almartin82.github.io/orschooldata/reference/enr_grade_aggs.md)
  : Custom Enrollment Grade Level Aggregates

## School Directory

Functions for school directory data

- [`fetch_directory()`](https://almartin82.github.io/orschooldata/reference/fetch_directory.md)
  : Fetch Oregon school directory data
- [`clear_directory_cache()`](https://almartin82.github.io/orschooldata/reference/clear_directory_cache.md)
  : Clear school directory cache

## Caching

Functions for managing cached data

- [`cache_status()`](https://almartin82.github.io/orschooldata/reference/cache_status.md)
  : Show cache status
- [`clear_cache()`](https://almartin82.github.io/orschooldata/reference/clear_cache.md)
  : Clear the orschooldata cache

# Articles

### Vignettes

- [Getting Started with
  orschooldata](https://almartin82.github.io/orschooldata/articles/getting_started.md):
- [15 Insights from Oregon School Enrollment
  Data](https://almartin82.github.io/orschooldata/articles/enrollment_hooks.md):
